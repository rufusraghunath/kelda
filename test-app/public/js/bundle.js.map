{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/kelda-js/dist/bundle.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,6DAAe,KAAiD,oBAAoB,SAAiH,CAAC,oBAAoB,mBAAmB,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE,iBAAiB,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,mBAAmB,8BAA8B,qDAAqD,0BAA0B,6CAA6C,sBAAsB,6DAA6D,YAAY,eAAe,SAAS,iBAAiB,iCAAiC,iBAAiB,YAAY,UAAU,sBAAsB,mBAAmB,iDAAiD,iBAAiB,kBAAkB,aAAa,OAAO,mBAAmB,cAAc,2BAA2B,sCAAsC,WAAW,kCAAkC,IAAI,YAAY,SAAS,MAAM,uBAAuB,mBAAmB,GAAG,GAAG,GAAG,aAAa,yEAAyE,SAAS,GAAG,mBAAmB,cAAc,8GAA8G,sCAAsC,mDAAmD,gCAAgC,MAAM,+FAA+F,uCAAuC,WAAW,kCAAkC,IAAI,sBAAsB,SAAS,MAAM,GAAG,0CAA0C,sFAAsF,kCAAkC,MAAM,mDAAmD,aAAa,EAAE,qDAAqD,MAAM,8EAA8E,2CAA2C,UAAU,iBAAiB,MAAM,mBAAmB,GAAG,qCAAqC,6CAA6C,uBAAuB,EAAE,8BAA8B,wCAAwC,sBAAsB,SAAS,2BAA2B,MAAM,4EAA4E,mBAAmB,yCAAyC,kBAAkB,8BAA8B,EAAE,qBAAqB,8BAA8B,oBAAoB,8BAA8B,EAAE,SAAS,kBAAkB,8BAA8B,EAAE,QAAQ,OAAO,oBAAoB,GAAG,gBAAgB,cAAc,4BAA4B,MAAM,wEAAwE,GAAG,gBAAgB,aAAa,eAAe,kCAAkC,WAAW,sDAAsD,mBAAmB,GAAG,GAAG,sBAAsB,iCAAiC,aAAa,gCAAgC,cAAc,gBAAgB,gDAAgD,OAAO,eAAe,aAAa,mBAAmB,6EAA6E,gBAAgB,cAAc,2BAA2B,yCAAyC,gBAAgB,qBAAqB,cAAc,8GAA8G,8BAA8B,8DAA8D,kCAAkC,8BAA8B,sEAAsE,cAAc,gBAAgB,GAAG,oCAAoC,2BAA2B,MAAM,yBAAyB,6FAA6F,yCAAyC,2CAA2C,aAAa,GAAG,kCAAkC,sCAAsC,gBAAgB,GAAG,GAAG,MAAM,kBAAkB,cAAc,cAAc,uCAAuC,yBAAyB,yCAAyC,kBAAkB,4DAA4D,sCAAsC,8DAA8D,eAAe,GAAG,GAAG,YAAY,WAAW;AACz3J,kC;;;;;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAA6B;;AAE7B;;AAEA,kBAAkB,+CAAK;;AAEvB;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.MyLibrary=e():t.MyLibrary=e()}(global,(function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";r.r(e);var o,n=function(){function t(t){this.isDone=!1,this.work=t}return t.prototype.execute=function(){var t=this;return new Promise((function(e,r){try{e(t.work())}catch(t){r(t)}})).finally((function(){return t.isDone=!0}))},t}();!function(t){t.START=\"$$_KELDA_START\",t.DONE=\"$$_KELDA_DONE\",t.ERROR=\"$$_KELDA_ERROR\"}(o||(o={}));var i,u=function(){function t(t){this.isDone=!1,this.worker=null,this.cleanUp=this.cleanUp.bind(this),this.work=t,this.url=this.getWorkerUrl()}return t.prototype.execute=function(){return this.getWorkPromise().finally(this.cleanUp)},t.prototype.cleanUp=function(){var t;URL.revokeObjectURL(this.url),null===(t=this.worker)||void 0===t||t.terminate(),this.isDone=!0},t.prototype.getWorkPromise=function(){var t=this;return new Promise((function(e,r){try{t.doWorkInWorker(e,r)}catch(t){r(t)}}))},t.prototype.doWorkInWorker=function(t,e){this.worker=new Worker(this.url),this.initWorkerMessageHandling(t,e),this.startWork()},t.prototype.startWork=function(){var t;null===(t=this.worker)||void 0===t||t.postMessage({type:o.START})},t.prototype.initWorkerMessageHandling=function(t,e){var r;null===(r=this.worker)||void 0===r||r.addEventListener(\"message\",(function(r){var n=r.data,i=n.type,u=n.result,s=n.error;switch(i){case o.DONE:t(u);break;case o.ERROR:e(s)}}))},t.prototype.getWorkerUrl=function(){var t=this.getWorkerScript(),e=new Blob([t],{type:\"text/javascript\"});return URL.createObjectURL(e)},t.prototype.getWorkerScript=function(){return\"(\"+function(t){var e=!1;self.onmessage=function(r){var o;if(!e&&\"$$_KELDA_START\"===(null===(o=r.data)||void 0===o?void 0:o.type))try{var n=t.call(null);n instanceof Promise?n.then((function(t){self.postMessage({type:\"$$_KELDA_DONE\",result:t})})):self.postMessage({type:\"$$_KELDA_DONE\",result:n}),self.postMessage({type:\"$$_KELDA_DONE\",result:n})}catch(t){self.postMessage({type:\"$$_KELDA_ERROR\",error:t})}finally{e=!0}}}+\")(\"+this.work+\")\"},t}(),s=function(){function t(){}return t.getJob=function(t){var e;return(null===(e=window)||void 0===e?void 0:e.Worker)?new u(t):new n(t)},t}(),a=function(){function t(){this.isIdle=!0}return t.prototype.do=function(t){var e=this;return this.isIdle=!1,t.execute().finally((function(){return e.isIdle=!0}))},t}(),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(e){var r=t.call(this,e)||this;return r.message=e,r.name=\"KeldaError\",r}return c(e,t),e}(Error),l=function(){function t(e){this.queue=[],t.validate(e),this.threads=this.populateThreads(e),this.doFromQueue=this.doFromQueue.bind(this)}return t.validate=function(t){if(t<=0)throw new f(\"threadPoolDepth must be greater than 0\")},t.prototype.schedule=function(t){var e=this,r=this.getThread();return r?r.do(t).finally(this.doFromQueue):new Promise((function(r,o){var n=[t,r,o];e.queue.push(n)}))},t.prototype.doFromQueue=function(){var t,e=this.queue.shift();if(e){var r=e[0],o=e[1],n=e[2];null===(t=this.getThread())||void 0===t||t.do(r).then(o).catch(n).finally(this.doFromQueue)}},t.prototype.populateThreads=function(t){return Array(t).fill(null).map((function(){return new a}))},t.prototype.getThread=function(){return this.threads.find((function(t){return t.isIdle}))},t}(),p={threadPoolDepth:1},h=function(){function t(t){var e=(void 0===t?p:t).threadPoolDepth;this.threadPool=new l(e)}return t.prototype.orderWork=function(t){var e=s.getJob(t);return this.threadPool.schedule(e).catch(this.toKeldaError)},t.prototype.toKeldaError=function(t){var e=t.message||\"Something went wrong while processing work\";throw new f(e)},t}();e.default=h}]).default}));\n//# sourceMappingURL=bundle.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import Kelda from \"kelda-js\";\n\nconst work = () => 1 + 1;\n\nconst kelda = new Kelda();\n\nkelda\n  .orderWork(work)\n  .then(console.log)\n  .catch(console.error);\n\nconsole.log(\"STARTED UP\");\n"],"sourceRoot":""}